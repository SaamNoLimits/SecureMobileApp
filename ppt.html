<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S√©curisation d'Applications Mobiles</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            overflow: hidden;
        }

        .presentation-container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }

        .slide {
            width: 100%;
            height: 100%;
            display: none;
            padding: 40px;
            background: white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            position: absolute;
            top: 0;
            left: 0;
            animation: slideIn 0.6s ease-out;
            overflow-y: auto;
        }

        .slide.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .slide h1 {
            color: #2c3e50;
            font-size: 2.2em;
            margin-bottom: 25px;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 12px;
        }

        .slide h2 {
            color: #e74c3c;
            font-size: 1.7em;
            margin-bottom: 20px;
            border-left: 5px solid #e74c3c;
            padding-left: 15px;
        }

        .slide h3 {
            color: #27ae60;
            font-size: 1.3em;
            margin-bottom: 12px;
            margin-top: 20px;
        }

        .slide p, .slide li {
            font-size: 1em;
            line-height: 1.5;
            margin-bottom: 10px;
            color: #34495e;
        }

        .slide ul {
            margin-left: 25px;
            margin-bottom: 15px;
        }

        .vulnerability-box {
            background: #ffebee;
            border-left: 5px solid #f44336;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .correction-box {
            background: #e8f5e8;
            border-left: 5px solid #4caf50;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .definition-box {
            background: #e3f2fd;
            border-left: 5px solid #2196f3;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .tool-box {
            background: #fff3e0;
            border-left: 5px solid #ff9800;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .security-advantage-box {
            background: #f3e5f5;
            border-left: 5px solid #9c27b0;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 12px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            margin: 12px 0;
            overflow-x: auto;
        }

        .navigation {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 1000;
        }

        .nav-btn {
            padding: 12px 24px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.4);
        }

        .nav-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.6);
        }

        .nav-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .slide-counter {
            position: fixed;
            top: 30px;
            right: 30px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 1em;
            z-index: 1000;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.85em;
        }

        .table th, .table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }

        .table th {
            background: #f8f9fa;
            font-weight: bold;
            color: #2c3e50;
        }

        .table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .status-satisfied {
            color: #27ae60;
            font-weight: bold;
        }

        .status-non-compliant {
            color: #e74c3c;
            font-weight: bold;
        }

        .status-na {
            color: #95a5a6;
            font-style: italic;
        }

        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 15px 0;
        }

        .icon {
            display: inline-block;
            width: 20px;
            height: 20px;
            margin-right: 8px;
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <div class="presentation-container">
        <div class="slide-counter">
            <span id="currentSlide">1</span> / <span id="totalSlides">18</span>
        </div>

        <div class="slide active">
            <h1>S√©curisation d'Applications Mobiles</h1>
            <div style="text-align: center; margin-top: 30px;">
                <h2 style="color: #3498db; border: none; padding: 0;">Movie App - React Native avec Appwrite</h2>
                <div style="margin-top: 30px; font-size: 1.2em;">
                    <p><strong>√âtudiant :</strong> AHJLI Oussama</p>
                    <p><strong>Classe :</strong> SITCN S4</p>
                    <p><strong>Module :</strong> S4 - S√©curit√© IT et Confiance Num√©rique</p>
                    <p><strong>Date :</strong> 25 mai 2025</p>
                </div>
                <div style="margin-top: 40px;">
                    <div class="definition-box">
                        <h3>üéØ Objectif du Projet</h3>
                        <p>Identifier, analyser et corriger les vuln√©rabilit√©s de s√©curit√© d'une application mobile selon les standards OWASP MASVS, en int√©grant une stack technologique moderne et s√©curis√©e.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="slide">
            <h1>Stack Technique Frontend</h1>
            
            <div class="tool-box">
                <h3>üöÄ React Native</h3>
                <p><strong>D√©finition :</strong> Framework JavaScript open-source d√©velopp√© par Meta permettant de cr√©er des applications mobiles natives pour iOS et Android avec une base de code unique.</p>
                <p><strong>Avantages :</strong></p>
                <ul>
                    <li>D√©veloppement cross-platform avec performance native</li>
                    <li>Code r√©utilisable entre iOS et Android (jusqu'√† 95%)</li>
                    <li>Hot Reload pour d√©veloppement rapide</li>
                    <li>Large √©cosyst√®me et communaut√© active</li>
                </ul>
            </div>

            <div class="security-advantage-box">
                <h3>üîí Avantages S√©curitaires de React Native</h3>
                <ul>
                    <li><strong>Encapsulation native :</strong> Acc√®s contr√¥l√© aux APIs syst√®me</li>
                    <li><strong>Sandboxing :</strong> Isolation de l'application dans un environnement s√©curis√©</li>
                    <li><strong>Validation automatique :</strong> TypeScript pour la validation de types</li>
                    <li><strong>Updates s√©curis√©es :</strong> D√©ploiements via App Store/Play Store</li>
                    <li><strong>Cryptographie int√©gr√©e :</strong> Acc√®s aux services cryptographiques natifs</li>
                </ul>
            </div>

            <div class="tool-box">
                <h3>üìù TypeScript</h3>
                <p><strong>D√©finition :</strong> Surensemble typ√© de JavaScript d√©velopp√© par Microsoft, ajoutant des types statiques optionnels √† JavaScript.</p>
                <p><strong>Avantages S√©curitaires :</strong></p>
                <ul>
                    <li><strong>D√©tection d'erreurs :</strong> V√©rification des types √† la compilation</li>
                    <li><strong>Pr√©vention d'injections :</strong> Validation stricte des param√®tres</li>
                    <li><strong>Code plus robuste :</strong> R√©duction des bugs li√©s aux types</li>
                </ul>
            </div>
        </div>

        <div class="slide">
            <h1>Stack Technique Backend</h1>
            
            <div class="tool-box">
                <h3>‚òÅÔ∏è Appwrite - Backend-as-a-Service (BaaS)</h3>
                <p><strong>D√©finition :</strong> Plateforme backend open-source qui fournit aux d√©veloppeurs mobile et web tous les services backend essentiels dans une solution unifi√©e et s√©curis√©e.</p>
                <p><strong>Services Int√©gr√©s :</strong></p>
                <ul>
                    <li>Base de donn√©es NoSQL avec relations</li>
                    <li>Authentification multi-provider</li>
                    <li>Stockage de fichiers s√©curis√©</li>
                    <li>Fonctions cloud serverless</li>
                    <li>API REST et GraphQL automatiques</li>
                </ul>
            </div>

            <div class="security-advantage-box">
                <h3>üõ°Ô∏è Avantages S√©curitaires d'Appwrite</h3>
                <ul>
                    <li><strong>Chiffrement end-to-end :</strong> Donn√©es chiffr√©es en transit et au repos</li>
                    <li><strong>Authentification robuste :</strong> OAuth2, JWT, MFA int√©gr√©s</li>
                    <li><strong>Permissions granulaires :</strong> Contr√¥le d'acc√®s par r√¥le et document</li>
                    <li><strong>Protection CSRF/XSS :</strong> Headers de s√©curit√© automatiques</li>
                    <li><strong>Rate limiting int√©gr√© :</strong> Protection contre les abus</li>
                    <li><strong>Audit trails :</strong> Journalisation compl√®te des acc√®s</li>
                    <li><strong>HTTPS obligatoire :</strong> TLS 1.3 par d√©faut</li>
                </ul>
            </div>

            <div class="two-column">
                <div class="tool-box">
                    <h3>üîê OAuth Google</h3>
                    <p><strong>D√©finition :</strong> Protocole d'autorisation permettant l'authentification via Google sans exposer les mots de passe.</p>
                    <p><strong>S√©curit√© :</strong> Tokens temporaires, pas de stockage de mots de passe</p>
                </div>
                <div class="tool-box">
                    <h3>üìä Appwrite Database</h3>
                    <p><strong>D√©finition :</strong> Base de donn√©es NoSQL avec support des relations et validation de sch√©ma.</p>
                    <p><strong>S√©curit√© :</strong> Chiffrement, permissions par collection</p>
                </div>
            </div>
        </div>

        <div class="slide">
            <h1>Architecture de S√©curit√© Globale</h1>
            
            <div class="definition-box">
                <h3>üèóÔ∏è Approche Defense in Depth</h3>
                <p>Strat√©gie de s√©curit√© multicouches o√π chaque niveau fournit une protection ind√©pendante, cr√©ant plusieurs barri√®res contre les attaques.</p>
            </div>

            <h2>Couches de S√©curit√© Impl√©ment√©es</h2>

            <div class="two-column">
                <div>
                    <div class="security-advantage-box">
                        <h3>üéØ Couche Client (React Native)</h3>
                        <ul>
                            <li>Validation des entr√©es utilisateur</li>
                            <li>Sanitisation des donn√©es</li>
                            <li>Gestion s√©curis√©e des erreurs</li>
                            <li>Rate limiting c√¥t√© client</li>
                            <li>Journalisation s√©curis√©e</li>
                        </ul>
                    </div>
                    
                    <div class="security-advantage-box">
                        <h3>üåê Couche R√©seau</h3>
                        <ul>
                            <li>HTTPS/TLS 1.3 obligatoire</li>
                            <li>Certificate pinning</li>
                            <li>Headers de s√©curit√©</li>
                            <li>Protection MITM</li>
                        </ul>
                    </div>
                </div>
                
                <div>
                    <div class="security-advantage-box">
                        <h3>üîß Couche Backend (Appwrite)</h3>
                        <ul>
                            <li>Authentification multi-facteurs</li>
                            <li>Permissions granulaires</li>
                            <li>Chiffrement des donn√©es</li>
                            <li>Audit et monitoring</li>
                            <li>Protection DDoS</li>
                        </ul>
                    </div>
                    
                    <div class="security-advantage-box">
                        <h3>üíæ Couche Donn√©es</h3>
                        <ul>
                            <li>Chiffrement au repos</li>
                            <li>Sauvegardes s√©curis√©es</li>
                            <li>Isolation des donn√©es</li>
                            <li>Conformit√© RGPD</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="slide">
            <h1>OWASP MASVS - Mobile Application Security Verification Standard</h1>
            
            <div class="definition-box">
                <h3>üõ°Ô∏è D√©finition - OWASP MASVS</h3>
                <p>Standard de v√©rification de la s√©curit√© des applications mobiles d√©velopp√© par l'OWASP (Open Web Application Security Project). Il d√©finit les exigences de s√©curit√© pour les applications mobiles iOS et Android selon 3 niveaux : L1 (Standard), L2 (D√©fense en profondeur), L3 (Protection contre les menaces avanc√©es).</p>
            </div>

            <h3>üéØ Notre Objectif : Niveau L1 (Standard)</h3>
            <p>Niveau appropri√© pour la plupart des applications mobiles commerciales.</p>

            <div class="two-column">
                <div>
                    <h3>üìã Cat√©gories MASVS √âvalu√©es</h3>
                    <ul>
                        <li><strong>MASVS-AUTH :</strong> Authentification et sessions</li>
                        <li><strong>MASVS-STORAGE :</strong> Stockage s√©curis√©</li>
                        <li><strong>MASVS-CRYPTO :</strong> Cryptographie</li>
                        <li><strong>MASVS-NETWORK :</strong> Communication r√©seau</li>
                        <li><strong>MASVS-PLATFORM :</strong> Interaction plateforme</li>
                        <li><strong>MASVS-CODE :</strong> Qualit√© du code</li>
                        <li><strong>MASVS-RESILIENCE :</strong> Anti-tampering</li>
                    </ul>
                </div>
                
                <div>
                    <div class="vulnerability-box">
                        <h3>üìä √âtat Initial</h3>
                        <p><strong>Conformit√© :</strong> 55% (5/9 exigences)</p>
                        <p><strong>Vuln√©rabilit√©s :</strong> 4 non-conformit√©s critiques</p>
                        <ul>
                            <li>Validation des entr√©es insuffisante</li>
                            <li>Absence de rate limiting</li>
                            <li>Journalisation non s√©curis√©e</li>
                            <li>Gestion d'erreurs exposante</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="slide">
            <h1>Vuln√©rabilit√© 1 : Validation Insuffisante des Entr√©es</h1>
            
            <div class="definition-box">
                <h3>üîç D√©finition - Input Validation & Sanitization</h3>
                <p>Processus de v√©rification et de nettoyage des donn√©es saisies par l'utilisateur pour pr√©venir les injections malveillantes, assurer l'int√©grit√© des donn√©es et respecter les contraintes m√©tier.</p>
            </div>

            <div class="vulnerability-box">
                <h3>‚ö†Ô∏è Probl√®me Identifi√© (MASVS-CODE-4)</h3>
                <p><strong>Description :</strong> L'application accepte directement les donn√©es utilisateur sans validation ni sanitisation lors de l'ajout de films aux favoris.</p>
                
                <div class="code-block">
// Code initial vuln√©rable
addToFavorites: async (movieData: any) => {
  const response = await databases.createDocument(
    DATABASE_ID, COLLECTIONS.FAVORITES, ID.unique(),
    {
      userId: user.$id,
      movieId: movieData.id,    // ‚ùå Aucune validation
      title: movieData.title,   // ‚ùå Donn√©es non sanitis√©es
      // Risque d'injection de donn√©es malveillantes
    }
  );
}
                </div>

                <h3>üö® Risques Identifi√©s</h3>
                <ul>
                    <li><strong>Injection NoSQL :</strong> Manipulation des requ√™tes de base de donn√©es</li>
                    <li><strong>XSS Stored :</strong> Stockage de scripts malveillants</li>
                    <li><strong>Data Corruption :</strong> Insertion de donn√©es invalides</li>
                    <li><strong>Business Logic Bypass :</strong> Contournement des r√®gles m√©tier</li>
                </ul>
            </div>
        </div>

        <div class="slide">
            <h1>Correction 1 : Syst√®me de Validation Robuste</h1>
            
            <div class="correction-box">
                <h3>‚úÖ Solution : Module de S√©curit√© D√©di√©</h3>
                <p>Cr√©ation d'un module centralis√© pour toutes les op√©rations de validation et sanitisation.</p>
                
                <div class="code-block">
// lib/security.ts - Module de s√©curit√©
export const sanitizeInput = (input: string): string => {
  if (!input || typeof input !== 'string') return '';
  return input.trim()
    .replace(/[<>]/g, '')        // Suppression balises HTML
    .replace(/['"]/g, '')        // Suppression quotes dangereuses
    .slice(0, 1000);            // Limitation taille
};

export const validateMovieId = (movieId: any): boolean => {
  return typeof movieId === 'number' && 
         movieId > 0 && 
         Number.isInteger(movieId) &&
         movieId <= 999999999;    // Limite raisonnable
};

export const validateEmail = (email: string): boolean => {
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return emailRegex.test(email) && 
         email.length <= 254 && 
         !email.includes('<') && 
         !email.includes('>');
};
                </div>
            </div>

            <div class="security-advantage-box">
                <h3>üîí Application S√©curis√©e</h3>
                <div class="code-block">
// Application avec validation compl√®te
addToFavorites: async (movieData: any) => {
  // 1. Validation stricte des entr√©es
  if (!validateMovieId(movieData.id)) {
    throw new SecurityError('ID de film invalide', 'VALIDATION_ERROR');
  }
  
  const sanitizedTitle = sanitizeInput(movieData.title);
  if (!sanitizedTitle || sanitizedTitle.length < 1) {
    throw new SecurityError('Titre requis', 'VALIDATION_ERROR');
  }
  
  // 2. Cr√©ation s√©curis√©e du document  
  const response = await databases.createDocument(/*...*/);
}
                </div>
            </div>
        </div>

        <div class="slide">
            <h1>Vuln√©rabilit√© 2 : Absence de Limitation de D√©bit</h1>
            
            <div class="definition-box">
                <h3>‚è±Ô∏è D√©finition - Rate Limiting</h3>
                <p>M√©canisme de contr√¥le qui limite le nombre de requ√™tes qu'un utilisateur ou une IP peut effectuer dans une p√©riode donn√©e. Essentiel pour pr√©venir les abus, les attaques par d√©ni de service et prot√©ger les ressources serveur.</p>
            </div>

            <div class="tool-box">
                <h3>üõ†Ô∏è Types de Rate Limiting</h3>
                <ul>
                    <li><strong>Token Bucket :</strong> Nombre fixe de tokens r√©g√©n√©r√©s √† intervalle r√©gulier</li>
                    <li><strong>Fixed Window :</strong> Limite par fen√™tre de temps fixe</li>
                    <li><strong>Sliding Window :</strong> Fen√™tre glissante plus pr√©cise</li>
                    <li><strong>Leaky Bucket :</strong> D√©bit constant de traitement des requ√™tes</li>
                </ul>
            </div>

            <div class="vulnerability-box">
                <h3>‚ö†Ô∏è Probl√®me Identifi√© (MASVS-NETWORK-1)</h3>
                <p><strong>Description :</strong> Aucune limitation sur les tentatives de connexion et actions utilisateur.</p>
                
                <div class="code-block">
// Code vuln√©rable - Pas de protection
signIn: async (email: string, password: string) => {
  try {
    return await account.createEmailSession(email, password);
    // ‚ùå Tentatives illimit√©es = Attaque par force brute possible
  } catch (error) {
    throw error;
  }
}
                </div>

                <h3>üö® Risques Critiques</h3>
                <ul>
                    <li><strong>Brute Force Attacks :</strong> Tentatives de cassage de mots de passe</li>
                    <li><strong>API Abuse :</strong> Surcharge des services backend</li>
                    <li><strong>Resource Exhaustion :</strong> √âpuisement des quotas</li>
                    <li><strong>Credential Stuffing :</strong> Test automatis√© de combinaisons login/password</li>
                </ul>
            </div>
        </div>

        <div class="slide">
            <h1>Correction 2 : Rate Limiting Intelligent Multi-Niveaux</h1>
            
            <div class="correction-box">
                <h3>‚úÖ Solution : Syst√®me Adaptatif par Contexte</h3>
                
                <div class="code-block">
// Impl√©mentation Rate Limiter avec diff√©rentes strat√©gies
class RateLimiter {
  private attempts: Map<string, number[]> = new Map();
  
  // Configuration par type d'action
  private configs = {
    auth: { 
      maxAttempts: 5, 
      timeWindow: 300000,     // 5 minutes
      blockDuration: 900000   // 15 min de blocage
    },
    favorites: { 
      maxAttempts: 10, 
      timeWindow: 60000       // 1 minute
    },
    search: { 
      maxAttempts: 30, 
      timeWindow: 60000       // Recherches plus permissives
    },
    general: { 
      maxAttempts: 20, 
      timeWindow: 60000 
    }
  };

  checkLimit(userId: string, action: string): boolean {
    const config = this.configs[action] || this.configs.general;
    const now = Date.now();
    const key = `${userId}_${action}`;
    
    // Nettoyage des tentatives expir√©es
    const userAttempts = this.attempts.get(key) || [];
    const validAttempts = userAttempts.filter(
      time => now - time < config.timeWindow
    );
    
    if (validAttempts.length >= config.maxAttempts) {
      return false; // Limite atteinte
    }
    
    // Enregistrer nouvelle tentative
    validAttempts.push(now);
    this.attempts.set(key, validAttempts);
    return true;
  }
}
                </div>
            </div>

            <div class="security-advantage-box">
                <h3>üéØ Configuration Intelligente</h3>
                <ul>
                    <li><strong>Authentification :</strong> 5 tentatives/5min + blocage 15min</li>
                    <li><strong>Actions favoris :</strong> 10 actions/minute</li>
                    <li><strong>Recherches :</strong> 30 requ√™tes/minute (usage normal)</li>
                    <li><strong>Escalade progressive :</strong> Augmentation des d√©lais en cas d'abus r√©p√©t√©s</li>
                </ul>
            </div>
        </div>

        <div class="slide">
            <h1>Vuln√©rabilit√© 3 : Journalisation Non S√©curis√©e</h1>
            
            <div class="definition-box">
                <h3>üìù D√©finition - Secure Logging</h3>
                <p>Pratique d'enregistrement des √©v√©nements applicatifs en √©vitant l'exposition d'informations sensibles, en adaptant le niveau de d√©tail selon l'environnement (dev/prod) et en respectant les r√©glementations de confidentialit√©.</p>
            </div>

            <div class="tool-box">
                <h3>üìä Niveaux de Logging Standards</h3>
                <ul>
                    <li><strong>ERROR :</strong> Erreurs critiques n√©cessitant intervention</li>
                    <li><strong>WARN :</strong> Situations anormales mais non bloquantes</li>
                    <li><strong>INFO :</strong> √âv√©nements m√©tier importants</li>
                    <li><strong>DEBUG :</strong> Informations d√©taill√©es pour d√©veloppement</li>
                    <li><strong>TRACE :</strong> Niveau le plus d√©taill√© (d√©veloppement uniquement)</li>
                </ul>
            </div>

            <div class="vulnerability-box">
                <h3>‚ö†Ô∏è Probl√®me Identifi√© (MASVS-CODE-8)</h3>
                <p><strong>Description :</strong> Utilisation de console.log en production exposant informations sensibles.</p>
                
                <div class="code-block">
// Code vuln√©rable - Exposition d'informations
signOut: async () => {
  try {
    await account.deleteSession('current');
    console.log('Sign out successful'); // ‚ùå Log en production
  } catch (error) {
    console.error('Sign out failed:', error); // ‚ùå D√©tails erreur expos√©s
    // Peut r√©v√©ler : tokens, structure DB, stack traces...
    throw error;
  }
}

// Autres exemples probl√©matiques trouv√©s :
console.log('User data:', userData);     // ‚ùå Donn√©es personnelles
console.log('API response:', response);  // ‚ùå Tokens, cl√©s API
console.debug('Query params:', params);  // ‚ùå Param√®tres sensibles
                </div>

                <h3>üö® Risques de S√©curit√©</h3>
                <ul>
                    <li><strong>Data Leakage :</strong> Fuite d'informations sensibles (PII, secrets)</li>
                    <li><strong>Information Disclosure :</strong> R√©v√©lation de l'architecture interne</li>
                    <li><strong>Attaque par force brute :</strong> Logs d'√©chec de connexion d√©taill√©s</li>
                    <li><strong>Non-conformit√© RGPD :</strong> Stockage non autoris√© de donn√©es</li>
                </ul>
            </div>
        </div>

        <div class="slide">
            <h1>Correction 3 : Journalisation S√©curis√©e et Centralis√©e</h1>
            
            <div class="correction-box">
                <h3>‚úÖ Solution : Module de Logging Environnement-Agnostique</h3>
                <p>Mise en place d'un syst√®me de logging qui s'adapte √† l'environnement d'ex√©cution (d√©veloppement ou production) et qui filtre les informations sensibles.</p>
                
                <div class="code-block">
// lib/logger.ts - Module de logging s√©curis√©
enum LogLevel {
  ERROR, WARN, INFO, DEBUG, TRACE
}

// D√©finir le niveau de log max en fonction de l'environnement
const MAX_LOG_LEVEL = __DEV__ ? LogLevel.TRACE : LogLevel.INFO; // __DEV__ est une variable globale de React Native

const log = (level: LogLevel, message: string, data?: any) => {
  if (level > MAX_LOG_LEVEL) {
    return; // Ne pas loguer si le niveau est trop bas pour l'environnement
  }

  let formattedMessage = `[${LogLevel[level]}] ${new Date().toISOString()} - ${message}`;
  
  if (data) {
    // Filtrer les donn√©es sensibles avant de loguer
    const sensitiveKeys = ['password', 'token', 'apiKey', 'secret', 'creditCard'];
    const filteredData = JSON.parse(JSON.stringify(data)); // Clonage profond
    sensitiveKeys.forEach(key => {
      if (filteredData[key]) {
        filteredData[key] = '[REDACTED]';
      }
    });
    formattedMessage += ` Data: ${JSON.stringify(filteredData)}`;
  }

  switch (level) {
    case LogLevel.ERROR:
      console.error(formattedMessage);
      // Envoyer √† un service de monitoring d'erreurs en production
      if (!__DEV__) {
        // Sentry.captureException(new Error(message)); 
      }
      break;
    case LogLevel.WARN:
      console.warn(formattedMessage);
      break;
    case LogLevel.INFO:
      console.info(formattedMessage);
      break;
    case LogLevel.DEBUG:
      console.debug(formattedMessage);
      break;
    case LogLevel.TRACE:
      console.log(formattedMessage); // console.log pour TRACE uniquement en dev
      break;
  }
};

export const Logger = {
  error: (msg: string, data?: any) => log(LogLevel.ERROR, msg, data),
  warn: (msg: string, data?: any) => log(LogLevel.WARN, msg, data),
  info: (msg: string, data?: any) => log(LogLevel.INFO, msg, data),
  debug: (msg: string, data?: any) => log(LogLevel.DEBUG, msg, data),
  trace: (msg: string, data?: any) => log(LogLevel.TRACE, msg, data),
};
                </div>
            </div>

            <div class="security-advantage-box">
                <h3>üîí Mise en ≈ìuvre et Bonnes Pratiques</h3>
                <ul>
                    <li>Utilisation syst√©matique du module `Logger`</li>
                    <li>Jamais de `console.log` direct en production</li>
                    <li>Filtrage automatique des informations sensibles</li>
                    <li>Int√©gration avec des outils de gestion de logs centralis√©s (Ex: ELK Stack, Splunk)</li>
                    <li>Rotation des logs et archivage s√©curis√©</li>
                </ul>
            </div>
        </div>

        <div class="slide">
            <h1>Vuln√©rabilit√© 4 : Gestion d'Erreurs Exposer</h1>
            
            <div class="definition-box">
                <h3>üö® D√©finition - Secure Error Handling</h3>
                <p>Processus de gestion des erreurs applicatives de mani√®re √† ne pas r√©v√©ler d'informations sensibles (traces de pile, d√©tails techniques de l'impl√©mentation, chemins de fichiers, messages d'erreur de base de donn√©es) aux utilisateurs finaux ou aux attaquants.</p>
            </div>

            <div class="vulnerability-box">
                <h3>‚ö†Ô∏è Probl√®me Identifi√© (MASVS-CODE-7)</h3>
                <p><strong>Description :</strong> L'application renvoie des messages d'erreur d√©taill√©s directement √† l'utilisateur.</p>
                
                <div class="code-block">
// Code vuln√©rable - D√©tails d'erreur expos√©s
fetchUserProfile: async (userId: string) => {
  try {
    const user = await databases.getDocument(DATABASE_ID, COLLECTIONS.USERS, userId);
    return user;
  } catch (error: any) {
    // ‚ùå L'erreur brute d'Appwrite ou DB est renvoy√©e
    // Exemple : "AppwriteException: document_not_found", "Invalid ID", "Network error"
    // ou pire, une stack trace compl√®te si non g√©r√©e
    throw error; 
  }
}
                </div>

                <h3>üö® Risques de S√©curit√©</h3>
                <ul>
                    <li><strong>Information Disclosure :</strong> R√©v√©lation de l'architecture, noms de tables/colonnes, versions de composants.</li>
                    <li><strong>Attaque cibl√©e :</strong> Utilisation des informations pour affiner des attaques (ex: injection SQL/NoSQL).</li>
                    <li><strong>D√©ni de service :</strong> Exploitation des erreurs pour causer des plantages.</li>
                    <li><strong>Mauvaise exp√©rience utilisateur :</strong> Messages incompr√©hensibles et non amicaux.</li>
                </ul>
            </div>
        </div>

        <div class="slide">
            <h1>Correction 4 : Gestion d'Erreurs Robuste et Amicale</h1>
            
            <div class="correction-box">
                <h3>‚úÖ Solution : Interception et Messages G√©n√©riques</h3>
                <p>Mettre en place un m√©canisme global de gestion des erreurs qui intercepte les exceptions, les loggue en d√©tail pour les administrateurs, et pr√©sente des messages g√©n√©riques aux utilisateurs.</p>
                
                <div class="code-block">
// Global Error Handler dans un contexte ou hook React Native
const handleError = (error: any, context: string = 'Application') => {
  Logger.error(`Unhandled error in ${context}: ${error.message}`, error); // Log complet pour l'admin
  
  let userMessage = "Une erreur inattendue est survenue. Veuillez r√©essayer.";

  if (error.code === 401) { // Exemple : Code d'erreur Appwrite pour non autoris√©
    userMessage = "Vous n'√™tes pas autoris√© √† effectuer cette action.";
  } else if (error.code === 404) {
    userMessage = "La ressource demand√©e n'a pas √©t√© trouv√©e.";
  }
  // Ajouter d'autres conditions sp√©cifiques si n√©cessaire

  // Afficher un message convivial √† l'utilisateur (ex: Toast, alerte)
  // Toast.show({
  //   type: 'error',
  //   text1: 'Erreur',
  //   text2: userMessage,
  //   visibilityTime: 4000,
  // });

  return userMessage; // Peut √™tre retourn√© pour un affichage local
};

// Utilisation dans l'application
fetchUserProfile: async (userId: string) => {
  try {
    const user = await databases.getDocument(DATABASE_ID, COLLECTIONS.USERS, userId);
    return user;
  } catch (error) {
    const friendlyMessage = handleError(error, `WorkspaceUserProfile for user ${userId}`);
    throw new Error(friendlyMessage); // Relancer une erreur avec un message public
  }
}
                </div>
            </div>

            <div class="security-advantage-box">
                <h3>üîí Avantages de l'Approche</h3>
                <ul>
                    <li><strong>R√©duction de la surface d'attaque :</strong> Pas d'informations techniques expos√©es.</li>
                    <li><strong>Meilleure UX :</strong> Messages clairs et utiles pour l'utilisateur.</li>
                    <li><strong>D√©bogage facilit√© :</strong> Les logs backend contiennent tous les d√©tails n√©cessaires.</li>
                    <li><strong>Pr√©vention des attaques par √©num√©ration :</strong> √âvite de confirmer l'existence de ressources.</li>
                    <li><strong>Conformit√© :</strong> Aide √† respecter les normes de confidentialit√©.</li>
                </ul>
            </div>
        </div>

        <div class="slide">
            <h1>Conformit√© OWASP MASVS Post-Corrections</h1>
            
            <div class="definition-box">
                <h3>‚úÖ √âvaluation Finale - Objectif L1 Atteint</h3>
                <p>Apr√®s l'impl√©mentation des corrections, l'application atteint un niveau de conformit√© significatif avec le standard OWASP MASVS L1.</p>
            </div>

            <table class="table">
                <thead>
                    <tr>
                        <th>Exigence MASVS</th>
                        <th>Description</th>
                        <th>Statut Initial</th>
                        <th>Statut Final</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>MASVS-AUTH-1</td>
                        <td>Authentification robuste (Appwrite)</td>
                        <td class="status-satisfied">Satisfait</td>
                        <td class="status-satisfied">Satisfait</td>
                    </tr>
                    <tr>
                        <td>MASVS-STORAGE-1</td>
                        <td>Stockage de donn√©es sensibles s√©curis√©</td>
                        <td class="status-satisfied">Satisfait</td>
                        <td class="status-satisfied">Satisfait</td>
                    </tr>
                    <tr>
                        <td>MASVS-CRYPTO-1</td>
                        <td>Utilisation de cryptographie forte (Appwrite)</td>
                        <td class="status-satisfied">Satisfait</td>
                        <td class="status-satisfied">Satisfait</td>
                    </tr>
                    <tr>
                        <td>MASVS-NETWORK-1</td>
                        <td>Protection du r√©seau (Rate Limiting, HTTPS)</td>
                        <td class="status-non-compliant">Non-conforme</td>
                        <td class="status-satisfied">Satisfait</td>
                    </tr>
                    <tr>
                        <td>MASVS-NETWORK-2</td>
                        <td>Validation des certificats (HTTPS par d√©faut)</td>
                        <td class="status-satisfied">Satisfait</td>
                        <td class="status-satisfied">Satisfait</td>
                    </tr>
                    <tr>
                        <td>MASVS-PLATFORM-1</td>
                        <td>Interaction s√©curis√©e avec la plateforme OS</td>
                        <td class="status-satisfied">Satisfait</td>
                        <td class="status-satisfied">Satisfait</td>
                    </tr>
                    <tr>
                        <td>MASVS-CODE-4</td>
                        <td>Validation et sanitisation des entr√©es</td>
                        <td class="status-non-compliant">Non-conforme</td>
                        <td class="status-satisfied">Satisfait</td>
                    </tr>
                    <tr>
                        <td>MASVS-CODE-7</td>
                        <td>Gestion s√©curis√©e des erreurs</td>
                        <td class="status-non-compliant">Non-conforme</td>
                        <td class="status-satisfied">Satisfait</td>
                    </tr>
                    <tr>
                        <td>MASVS-CODE-8</td>
                        <td>Journalisation s√©curis√©e</td>
                        <td class="status-non-compliant">Non-conforme</td>
                        <td class="status-satisfied">Satisfait</td>
                    </tr>
                </tbody>
            </table>

            <p><strong>Taux de Conformit√© Final :</strong> 100% (9/9 exigences L1)</p>
        </div>

        <div class="slide">
            <h1>Le√ßons Apprises et Meilleures Pratiques</h1>
            
            <div class="definition-box">
                <h3>üß† Importance de la S√©curit√© "Shift-Left"</h3>
                <p>Int√©grer la s√©curit√© d√®s les premi√®res √©tapes du cycle de d√©veloppement (SDLC) plut√¥t que de la traiter en fin de projet. Cela permet de d√©tecter et de corriger les vuln√©rabilit√©s plus t√¥t, r√©duisant ainsi les co√ªts et les risques.</p>
            </div>

            <h2>Meilleures Pratiques Adopt√©es</h2>
            <ul>
                <li><strong>Validation continue :</strong> Valider et nettoyer toutes les entr√©es utilisateur, c√¥t√© client et serveur.</li>
                <li><strong>Approche "Zero Trust" :</strong> Ne jamais faire confiance implicitement √† aucune entit√©, qu'elle soit interne ou externe au r√©seau.</li>
                <li><strong>Gestion des erreurs :</strong> Ne jamais exposer d'informations techniques dans les messages d'erreur aux utilisateurs.</li>
                <li><strong>Journalisation :</strong> Loguer de mani√®re s√©curis√©e, en filtrant les donn√©es sensibles et en adaptant le niveau de d√©tail √† l'environnement.</li>
                <li><strong>Limitation de d√©bit (Rate Limiting) :</strong> Prot√©ger les API et les ressources contre les abus et les attaques par force brute.</li>
                <li><strong>Authentification et Autorisation :</strong> Utiliser des m√©canismes robustes (MFA, permissions granulaires) et des tokens √† dur√©e de vie limit√©e.</li>
                <li><strong>Mises √† jour r√©guli√®res :</strong> Maintenir √† jour toutes les d√©pendances et librairies.</li>
                <li><strong>Tests de s√©curit√© :</strong> Effectuer des tests r√©guliers (tests d'intrusion, analyse de code statique/dynamique).</li>
            </ul>
        </div>

        <div class="slide">
            <h1>Outils de S√©curit√© Utilis√©s et Recommand√©s</h1>
            
            <div class="two-column">
                <div class="tool-box">
                    <h3>üõ†Ô∏è Outils d'Analyse et de Test</h3>
                    <ul>
                        <li><strong>OWASP ZAP :</strong> Proxy d'interception pour l'analyse de vuln√©rabilit√©s web et API.</li>
                        <li><strong>MobSF (Mobile Security Framework) :</strong> Plateforme automatis√©e pour l'analyse statique et dynamique des applications mobiles.</li>
                        <li><strong>Burp Suite :</strong> Suite d'outils pour les tests de p√©n√©tration des applications web.</li>
                        <li><strong>ESLint/Prettier :</strong> Pour la qualit√© du code et la d√©tection de motifs de code potentiellement risqu√©s.</li>
                        <li><strong>npm audit / yarn audit :</strong> Pour l'analyse des vuln√©rabilit√©s dans les d√©pendances JavaScript.</li>
                    </ul>
                </div>
                <div class="tool-box">
                    <h3>‚öôÔ∏è Solutions de S√©curit√© Int√©gr√©es</h3>
                    <ul>
                        <li><strong>Appwrite Security Features :</strong> Permissions, chiffrement, rate limiting int√©gr√©.</li>
                        <li><strong>OAuth Providers (Google, Apple) :</strong> Pour une authentification d√©l√©gu√©e et s√©curis√©e.</li>
                        <li><strong>HTTPS/TLS :</strong> Chiffrement des communications r√©seau.</li>
                        <li><strong>React Native Security Best Practices :</strong> Utilisation des fonctionnalit√©s de s√©curit√© natives de la plateforme.</li>
                        <li><strong>KeyChain / Android Keystore :</strong> Stockage s√©curis√© des donn√©es sensibles sur l'appareil.</li>
                    </ul>
                </div>
            </div>

            <div class="security-advantage-box">
                <h3>üìà Surveillance et R√©ponse aux Incidents</h3>
                <p>Mettre en place des syst√®mes de monitoring des logs et des performances pour d√©tecter rapidement les anomalies et les tentatives d'attaque, et disposer d'un plan de r√©ponse aux incidents.</p>
            </div>
        </div>

        <div class="slide">
            <h1>Perspectives et Am√©liorations Futures</h1>
            
            <h2>Am√©liorations Possibles</h2>
            <ul>
                <li><strong>MASVS L2/L3 :</strong> Atteindre des niveaux de s√©curit√© sup√©rieurs pour les applications critiques (ex: finance, sant√©).</li>
                <li><strong>Code Obfuscation & Anti-Tampering :</strong> Rendre le reverse engineering plus difficile et d√©tecter les modifications de code.</li>
                <li><strong>Mobile Device Management (MDM) :</strong> Pour les applications d'entreprise n√©cessitant un contr√¥le strict sur les appareils.</li>
                <li><strong>Int√©gration CI/CD S√©curis√©e :</strong> Automatiser les tests de s√©curit√© dans le pipeline de d√©ploiement.</li>
                <li><strong>Tests d'intrusion r√©guliers :</strong> Engager des experts externes pour des audits de s√©curit√© approfondis.</li>
                <li><strong>Gestion des secrets am√©lior√©e :</strong> Utiliser des solutions de gestion de secrets d√©di√©es (ex: HashiCorp Vault) pour les cl√©s API et autres informations sensibles.</li>
            </ul>

            <div class="security-advantage-box">
                <h3>üí° Veille Technologique Continue</h3>
                <p>La s√©curit√© est un domaine en constante √©volution. Une veille technologique proactive est indispensable pour se tenir inform√© des nouvelles menaces et des meilleures pratiques.</p>
            </div>

            <div class="definition-box">
                <h3>üîó Culture de la S√©curit√©</h3>
                <p>Sensibiliser toutes les √©quipes (d√©veloppeurs, QA, op√©rations) aux enjeux de s√©curit√© et promouvoir une culture o√π la s√©curit√© est la responsabilit√© de tous.</p>
            </div>
        </div>

        <div class="slide">
            <h1>Questions & Remerciements</h1>
            <div style="text-align: center; margin-top: 50px; font-size: 1.5em;">
                <p>Merci de votre attention !</p>
                <p style="margin-top: 30px;">Des questions ?</p>
            </div>
            <div style="margin-top: 80px; text-align: center;">
                <p style="font-size: 1.1em; color: #555;">AHJLI Oussama - SITCN S4</p>
            </div>
        </div>

    </div>

    <div class="navigation">
        <button id="prevBtn" class="nav-btn" disabled>Pr√©c√©dent</button>
        <button id="nextBtn" class="nav-btn">Suivant</button>
    </div>

    <script>
        const slides = document.querySelectorAll('.slide');
        let currentSlideIndex = 0;
        const totalSlides = slides.length;

        document.getElementById('totalSlides').textContent = totalSlides;

        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.classList.remove('active');
                if (i === index) {
                    slide.classList.add('active');
                }
            });
            document.getElementById('currentSlide').textContent = index + 1;
            updateNavigationButtons();
        }

        function nextSlide() {
            if (currentSlideIndex < totalSlides - 1) {
                currentSlideIndex++;
                showSlide(currentSlideIndex);
            }
        }

        function prevSlide() {
            if (currentSlideIndex > 0) {
                currentSlideIndex--;
                showSlide(currentSlideIndex);
            }
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');

            prevBtn.disabled = (currentSlideIndex === 0);
            nextBtn.disabled = (currentSlideIndex === totalSlides - 1);
        }

        document.getElementById('prevBtn').addEventListener('click', prevSlide);
        document.getElementById('nextBtn').addEventListener('click', nextSlide);

        // Initialisation
        showSlide(currentSlideIndex);
    </script>
</body>
</html>
